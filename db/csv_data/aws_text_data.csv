title,content
【 第1章 】ネットワーク環境設定,"## 【 第1章 】ネットワーク環境設定

初めにVPC（Virtual Private Cloud）の設定を行っていきましょう！広いAWSという敷地の中で、自分の領域を決めるというイメージです。

### 1.VPCの作成

画面左上のサービスを開き、検索欄に「VPC」と入力し、「VPC」を選択します。

まず右上のリージョンを「アジアパシフィック（東京）」に設定しましょう。

トップ画面より「VPC」を選択して、詳細ページ左上の「VPCの作成」を選択してください。
以下の通り項目に記載

  1. 名前タグ：「VPC_for_アプリ名」
  2. IPv4 CIDR ブロック：「10.0.0.0/16」
  3. IPv6 CIDR ブロック：「IPv6 CIDR ブロックなし
  4. テナンシー：「デフォルト」

右下の「作成」を選択

### 2.サブネットの作成

画面左の「サブネット」を選択して、詳細ページ左上の「サブネットの作成」を選択してください。

以下の通り項目に記載

  1. 名前タグ：「アプリ名-Subnet-1a」
  2. VPCに先ほど作成した：「VPC_for_アプリ名」
  3. アベイラビリティーゾーン：「ap-northeast-1a」
  4. IPv4 CIDR ブロック：「10.0.0.0/24」

右下の「作成」を選択

RDS用にもう一つサブネットを作成します。

同様に「サブネットの作成」を選択して、以下の通り項目に記載

  1. 名前タグ：「アプリ名-Subnet-1c」
  2. VPCに先ほど作成した：「VPC_for_アプリ名」
  3. アベイラビリティーゾーン：「ap-northeast-1c」
  4. IPv4 CIDR ブロック：「10.0.1.0/24」

右下の「作成」を選択

### 3.インターネットゲートウェイの作成

画面左の「インターネットゲートウェイ」を選択して、詳細ページ左上の「インターネットゲートウェイの作成」を選択してください。

以下の通り項目に記載

  1. 名前タグ：「Gateway_for_アプリ名」

右下の「作成」を選択

このゲートウェイをVPCと紐付けます。

作成したゲートウェイを選択した状態で、「アクション」を選択し、「VPCにアタッチ」を選択します。

VPCに先ほど作成した「VPC_for_アプリ名」を指定

右下の「アタッチ」を選択

### 4.ルートテーブルの作成
画面左の「ルートテーブル」を選択して、詳細ページ左上の「ルートテーブルの作成」を選択してください。

以下の通り項目に記載

  1. 名前タグ：「Table_for_アプリ名」
  2. VPCに先ほど作成した：「VPC_for_アプリ名」

右下の「作成」を選択

次に作成したルートテーブルに「インターネットゲートウェイをルーティングするというルール」を記載したいと思います。

作成したテーブルを選択した状態で、下のタブの「ルート」を選択し、「ルートの編集」を選択します。

「ルートの追加」ボタンを選択し、以下の通り項目に記載

  1. 送信先：「0.0.0.0/0」
  2. ターゲットの項目を選択し、「Internet Gateway」を選択、先ほど作成したゲートウェイを選択

「ルートの保存」を選択します。

最後にサブネットとの紐付けを行います。

画面左の「サブネット」を選択して、先ほど作成した「アプリ名-Subnet-1a」を選択した状態で、画面下のルートテーブルタブを選択して、「ルートテーブルの関連付けの編集」ボタンを選択

ルートテーブルIDの項目を選択し、先ほど作成したテーブル「Table_for_アプリ名」を選択します。

右下の「保存」を選択します。

同様に、もう一つのサブネットの「アプリ名-Subnet-1c」もルートテーブルを紐付けしていきます。

同手順でルートテーブルの関連付けを実施してください。

### 5.セキュリティグループの作成

続けてセキュリティグループの設定を行っていきましょう。

画面左の「セキュリティグループ」を選択して、詳細ページ左上の「セキュリティグループの作成」を選択してください。

以下の通り項目に記載

  1. セキュリティグループ名：「アプリ名-SecurityGroup」
  2. 説明：「Security for アプリ名」
  3. VPCに先ほど作成した：「VPC_for_アプリ名」

右下の「作成」を選択

作成したセキュリティグループに実際にルールを記載していきます。

先ほど作成したセキュリティグループを選択した状態で、下のタブの「インバウンドのルール」を選択し、

「ルールの編集」を選択します。

「ルールの追加」ボタンを選択します。

以下の通り項目に記載

  1. タイプ：「SSH」
  2. プロトコル：「TCP」※自動選択
  3. ポート範囲：「22」※自動選択
  4. ソース：「マイIP」（自分のグローバルIPが表示される）
  5. 説明：「任意」（空白でもOKです）

さらにルールを追加するので、再度「ルールの追加」ボタンを選択します。

新しく追加されたレコードに以下の通り記載

  1. タイプ：「HTTP」
  2. プロトコル：「TCP」※自動選択
  3. ポート範囲：「80」※自動選択
  4. ソース：「任意の場所」（0.0.0.0/0, ::/0）
  5. 説明：「任意」（空白でもOKです）

「ルールの保存」を選択します。"
【 第2章 】RDSの設定,2
【 第3章 】EC2の設定,3
【 第4章 】サーバー環境の構築,4
【 第5章 】Railsアプリを配置する,5
【 第6章 】ロードバランサーを設定する,6
【 第7章 】Railsアプリの起動,7
【 第8章 】ドメインの取得,8
【 第9章 】IPアドレスとドメインの関連付け設定,9
【 第10章 】ACMでSSL証明書の取得,10
【 第11章 】https化に向けた設定,11
